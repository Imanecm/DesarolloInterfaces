<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="stylesheet" type="text/css" href="css/styles-menu-main.css">
    <link rel="stylesheet" type="text/css" href="css/styles-movie-container.css">
    <meta charset="UTF-8">
    <title>Todas las Películas - Movie Streaming</title>
    <style>
        .category-header {
            background: linear-gradient(135deg, #e50914 0%, #b81d24 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .category-title {
            font-size: 2.5em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .category-subtitle {
            font-size: 1.2em;
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
        
        .back-button {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background 0.3s ease;
        }
        
        .back-button:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .movies-count {
            font-size: 1.1em;
            color: #666;
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <header id="menu-main">
        <ul id="menu-main-list">
            <!-- CONTENIDO GENERADO AUTOMÁTICAMENTE EN "js/main-menu.js" -->
        </ul>
    </header>
    <script src="js/main-menu.js"></script>
    
    <div class="category-header">
        <h1 class="category-title">Todas las Películas</h1>
        <p class="category-subtitle">Descubre nuestro catálogo completo de películas</p>
        <a href="index.html" class="back-button">← Volver al Inicio</a>
    </div>
    
    <div class="movies-count" id="movies-count"></div>
    
    <div id="movies-container">
        <!-- TODAS LAS PELÍCULAS APARECERÁN AQUÍ -->
    </div>

    <script>
    // Cargar solo películas (excluyendo anime y series)
    fetch('data/data.json')
        .then(response => response.json())
        .then(data => {
            const allMovies = data.movies_list || [];
            
            // Lista de series conocidas para excluirlas
            const seriesTitles = [
                'Friends', 'Los Serrano', 'La que se avecina', 'Breaking Bad', 
                'Euphoria', 'The Walking Dead', 'Stranger Things', 'Black Mirror',
                'Dark', 'Doctor Who', 'The Haunting of Hill House', 'American Horror Story',
                'Vis a vis', 'Sky Rojo', 'The Last of Us', 'Los 100', 'Vikingos'
            ];
            
            const peliculas = allMovies.filter(movie => {
                // Excluir anime
                if (movie.category === 'Anime') return false;
                
                // Excluir series conocidas
                if (seriesTitles.some(serie => movie.title.includes(serie))) return false;
                
                // Incluir el resto
                return true;
            });
            
            const countElement = document.getElementById('movies-count');
            countElement.textContent = `Se encontraron ${peliculas.length} películas`;
            
            const container = document.getElementById('movies-container');
            
            if (peliculas.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #666;">
                        <h3>No se encontraron películas</h3>
                    </div>
                `;
                return;
            }
            
            console.log('Películas encontradas:', peliculas); // Para debug
            
            // Mostrar películas
            peliculas.forEach(movie => {
                const movieCard = `
                    <div class="card">
                        <img class="image" src="images/${movie.image}" alt="${movie.title}" 
                             onerror="this.src='https://via.placeholder.com/300x450/333/fff?text=Imagen+No+Disponible'">
                        <div class="info">
                            <div class="movie-title">${movie.title}</div>
                            ${movie.category ? `<div class="movie-category">${movie.category}</div>` : ''}
                            <a class="button" href="movie-info.html?title=${encodeURIComponent(movie.title)}">Ver más</a>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', movieCard);
            });
        })
        .catch(error => {
            console.error('Error al cargar las películas:', error);
        });
</script>
    
    <footer class="footer">
        <p>Mi página de Streaming - Todos los derechos reservados</p>
        <p><a href="contacto.html">Contacto</a> / <a href="sobre.html">Sobre nosotros</a></p>
    </footer>
</body>
</html>